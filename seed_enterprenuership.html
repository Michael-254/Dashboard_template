<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seed Entrepreneurship - Agricultural Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header Component -->
    <div id="header-container"></div>

    <!-- Main Content -->
    <main class="bg-gray-50 px-4 sm:px-6 md:px-8 py-6 sm:py-8">
        <!-- Country Selector Component -->
        <div id="country-selector-container"></div>

        <!-- Page Title Section - Minimal -->
        <div class="mb-6">
            <h1 class="text-2xl font-bold text-gray-800">Seed Entrepreneurship</h1>
        </div>

        <!-- Indicator Cards Container -->
        <div class="space-y-6">
            <!-- Card 1: Seed Companies Supported (MOVED TO TOP) -->
            <div class="bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden">
                <!-- Card Header with Title -->
                <div class="p-4 sm:p-6 border-b border-gray-100">
                    <div class="mb-4">
                        <h2 class="text-xl sm:text-2xl font-bold text-green-700">Seed Companies Supported <span class="text-gray-600 text-base font-medium">(Number of Companies)</span></h2>
                    </div>
                </div>

                <!-- Chart Container -->
                <div class="p-4 sm:p-6">
                    <div class="w-full h-96 relative">
                        <canvas id="seedCompaniesChart"></canvas>
                    </div>
                </div>

                <!-- Card Footer -->
                <div class="px-4 sm:px-6 py-3 border-t border-gray-100 flex items-center justify-between bg-gray-50">
                    <span class="text-xs text-gray-500">Year range: 2018 — 2025</span>
                    <button class="text-green-600 text-sm font-semibold hover:text-green-700 hover:underline transition">
                        View Details →
                    </button>
                </div>
            </div>

            <!-- Card 2: Number of Certified Seed Produced -->
            <div class="bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden">
                <!-- Card Header with Title -->
                <div class="p-4 sm:p-6 border-b border-gray-100">
                    <div class="mb-4">
                        <h2 class="text-xl sm:text-2xl font-bold text-green-700">Certified Seed Produced <span class="text-gray-600 text-base font-medium">(MT)</span></h2>
                    </div>

                    <!-- Crops Legend -->
                    <div class="flex flex-wrap gap-3">
                        <div class="flex items-center space-x-2">
                            <span class="w-3 h-3 rounded-full" style="background-color: #FBBF24;"></span>
                            <span class="text-sm font-medium text-gray-700">Maize</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="w-3 h-3 rounded-full" style="background-color: #FB923C;"></span>
                            <span class="text-sm font-medium text-gray-700">Cowpea</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="w-3 h-3 rounded-full" style="background-color: #10B981;"></span>
                            <span class="text-sm font-medium text-gray-700">Beans</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="w-3 h-3 rounded-full" style="background-color: #9CA3AF;"></span>
                            <span class="text-sm font-medium text-gray-700">Sorghum</span>
                        </div>
                    </div>
                </div>

                <!-- Chart Container -->
                <div class="p-4 sm:p-6">
                    <div class="w-full h-96 relative">
                        <canvas id="certifiedSeedProducedChart"></canvas>
                    </div>
                </div>

                <!-- Card Footer -->
                <div class="px-4 sm:px-6 py-3 border-t border-gray-100 flex items-center justify-between bg-gray-50">
                    <span class="text-xs text-gray-500">Year range: 2018 — 2025</span>
                    <button class="text-green-600 text-sm font-semibold hover:text-green-700 hover:underline transition">
                        View Details →
                    </button>
                </div>
            </div>

            <!-- Card 3: Certified Seed Sold -->
            <div class="bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden">
                <!-- Card Header with Title -->
                <div class="p-4 sm:p-6 border-b border-gray-100">
                    <div class="mb-4">
                        <h2 class="text-xl sm:text-2xl font-bold text-green-700">Certified Seed Sold <span class="text-gray-600 text-base font-medium">(MT)</span></h2>
                    </div>

                    <!-- Crops Legend -->
                    <div class="flex flex-wrap gap-3">
                        <div class="flex items-center space-x-2">
                            <span class="w-3 h-3 rounded-full" style="background-color: #FBBF24;"></span>
                            <span class="text-sm font-medium text-gray-700">Maize</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="w-3 h-3 rounded-full" style="background-color: #FB923C;"></span>
                            <span class="text-sm font-medium text-gray-700">Cowpea</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="w-3 h-3 rounded-full" style="background-color: #10B981;"></span>
                            <span class="text-sm font-medium text-gray-700">Beans</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="w-3 h-3 rounded-full" style="background-color: #9CA3AF;"></span>
                            <span class="text-sm font-medium text-gray-700">Sorghum</span>
                        </div>
                    </div>
                </div>

                <!-- Chart Container -->
                <div class="p-4 sm:p-6">
                    <div class="w-full h-96 relative">
                        <canvas id="certifiedSeedSoldChart"></canvas>
                    </div>
                </div>

                <!-- Card Footer -->
                <div class="px-4 sm:px-6 py-3 border-t border-gray-100 flex items-center justify-between bg-gray-50">
                    <span class="text-xs text-gray-500">Year range: 2018 — 2025</span>
                    <button class="text-green-600 text-sm font-semibold hover:text-green-700 hover:underline transition">
                        View Details →
                    </button>
                </div>
            </div>

            <!-- Card 4: Capacity Building of Seed Companies -->
            <div class="bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden">
                <!-- Card Header with Title -->
                <div class="p-4 sm:p-6 border-b border-gray-100">
                    <div class="mb-4">
                        <h2 class="text-xl sm:text-2xl font-bold text-green-700">Capacity Building of Seed Companies <span class="text-gray-600 text-base font-medium">(Number of Personnel Trained)</span></h2>
                    </div>
                </div>

                <!-- Chart Container -->
                <div class="p-4 sm:p-6">
                    <div class="w-full h-96 relative">
                        <canvas id="seedCompanyCapacityChart"></canvas>
                    </div>
                </div>

                <!-- Card Footer -->
                <div class="px-4 sm:px-6 py-3 border-t border-gray-100 flex items-center justify-between bg-gray-50">
                    <span class="text-xs text-gray-500">Year range: 2018 — 2025</span>
                    <button class="text-green-600 text-sm font-semibold hover:text-green-700 hover:underline transition">
                        View Details →
                    </button>
                </div>
            </div>

            <!-- Card 5: Agrodealer Shops Supported -->
            <div class="bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden">
                <!-- Card Header with Title -->
                <div class="p-4 sm:p-6 border-b border-gray-100">
                    <div class="mb-4">
                        <h2 class="text-xl sm:text-2xl font-bold text-green-700">Agrodealer Shops Supported <span class="text-gray-600 text-base font-medium">(Number of Shops)</span></h2>
                    </div>
                </div>

                <!-- Chart Container -->
                <div class="p-4 sm:p-6">
                    <div class="w-full h-96 relative">
                        <canvas id="agrodealerShopsChart"></canvas>
                    </div>
                </div>

                <!-- Card Footer -->
                <div class="px-4 sm:px-6 py-3 border-t border-gray-100 flex items-center justify-between bg-gray-50">
                    <span class="text-xs text-gray-500">Year range: 2018 — 2025</span>
                    <button class="text-green-600 text-sm font-semibold hover:text-green-700 hover:underline transition">
                        View Details →
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer Component -->
    <div id="footer-container"></div>

    <!-- JavaScript for Components and Chart -->
    <script>
        // Chart data for Certified Seed Produced
        const certifiedSeedProducedData = {
            labels: ['2018', '2019', '2020', '2021', '2022', '2023', '2024', '2025'],
            datasets: [
                {
                    label: 'Maize',
                    data: [450, 520, 685, 750, 820, 950, 1100, 1250],
                    borderColor: '#FBBF24',
                    backgroundColor: 'rgba(251, 191, 36, 0.1)',
                    tension: 0.4,
                    fill: false,
                    borderWidth: 2,
                    pointRadius: 4,
                    pointBackgroundColor: '#FBBF24'
                },
                {
                    label: 'Cowpea',
                    data: [80, 100, 120, 150, 180, 220, 280, 330],
                    borderColor: '#FB923C',
                    backgroundColor: 'rgba(251, 146, 60, 0.1)',
                    tension: 0.4,
                    fill: false,
                    borderWidth: 2,
                    pointRadius: 4,
                    pointBackgroundColor: '#FB923C'
                },
                {
                    label: 'Beans',
                    data: [100, 120, 150, 180, 150, 180, 180, 180],
                    borderColor: '#10B981',
                    backgroundColor: 'rgba(16, 185, 129, 0.1)',
                    tension: 0.4,
                    fill: false,
                    borderWidth: 2,
                    pointRadius: 4,
                    pointBackgroundColor: '#10B981'
                },
                {
                    label: 'Sorghum',
                    data: [20, 20, 60, 20, 40, 30, 20, 20],
                    borderColor: '#9CA3AF',
                    backgroundColor: 'rgba(156, 163, 175, 0.1)',
                    tension: 0.4,
                    fill: false,
                    borderWidth: 2,
                    pointRadius: 4,
                    pointBackgroundColor: '#9CA3AF'
                }
            ]
        };

        // Chart data for Certified Seed Sold
        const certifiedSeedSoldData = {
            labels: ['2018', '2019', '2020', '2021', '2022', '2023', '2024', '2025'],
            datasets: [
                {
                    label: 'Maize',
                    data: [380, 450, 580, 680, 750, 900, 1000, 1150],
                    borderColor: '#FBBF24',
                    backgroundColor: 'rgba(251, 191, 36, 0.1)',
                    tension: 0.4,
                    fill: false,
                    borderWidth: 2,
                    pointRadius: 4,
                    pointBackgroundColor: '#FBBF24'
                },
                {
                    label: 'Cowpea',
                    data: [60, 80, 100, 130, 160, 200, 250, 300],
                    borderColor: '#FB923C',
                    backgroundColor: 'rgba(251, 146, 60, 0.1)',
                    tension: 0.4,
                    fill: false,
                    borderWidth: 2,
                    pointRadius: 4,
                    pointBackgroundColor: '#FB923C'
                },
                {
                    label: 'Beans',
                    data: [80, 100, 130, 160, 130, 160, 160, 160],
                    borderColor: '#10B981',
                    backgroundColor: 'rgba(16, 185, 129, 0.1)',
                    tension: 0.4,
                    fill: false,
                    borderWidth: 2,
                    pointRadius: 4,
                    pointBackgroundColor: '#10B981'
                },
                {
                    label: 'Sorghum',
                    data: [15, 15, 50, 15, 30, 25, 15, 15],
                    borderColor: '#9CA3AF',
                    backgroundColor: 'rgba(156, 163, 175, 0.1)',
                    tension: 0.4,
                    fill: false,
                    borderWidth: 2,
                    pointRadius: 4,
                    pointBackgroundColor: '#9CA3AF'
                }
            ]
        };

        // Chart data for Capacity Building of Seed Companies
        const seedCompanyCapacityData = {
            labels: ['2018', '2019', '2020', '2021', '2022', '2023', '2024', '2025'],
            datasets: [
                {
                    label: 'Personnel Trained',
                    data: [85, 115, 145, 175, 210, 250, 295, 340],
                    borderColor: '#3B82F6',
                    backgroundColor: 'rgba(59, 130, 246, 0.1)',
                    tension: 0.4,
                    fill: false,
                    borderWidth: 2,
                    pointRadius: 4,
                    pointBackgroundColor: '#3B82F6'
                }
            ]
        };

        // Chart data for Seed Companies Supported
        const seedCompaniesData = {
            labels: ['2018', '2019', '2020', '2021', '2022', '2023', '2024', '2025'],
            datasets: [
                {
                    label: 'Companies Supported',
                    data: [8, 12, 16, 20, 24, 28, 32, 36],
                    borderColor: '#8B5CF6',
                    backgroundColor: 'rgba(139, 92, 246, 0.1)',
                    tension: 0.4,
                    fill: false,
                    borderWidth: 2,
                    pointRadius: 4,
                    pointBackgroundColor: '#8B5CF6'
                }
            ]
        };

        // Chart data for Agrodealer Shops Supported
        const agrodealerShopsData = {
            labels: ['2018', '2019', '2020', '2021', '2022', '2023', '2024', '2025'],
            datasets: [
                {
                    label: 'Shops Supported',
                    data: [45, 65, 95, 125, 155, 190, 230, 270],
                    borderColor: '#EC4899',
                    backgroundColor: 'rgba(236, 72, 153, 0.1)',
                    tension: 0.4,
                    fill: false,
                    borderWidth: 2,
                    pointRadius: 4,
                    pointBackgroundColor: '#EC4899'
                }
            ]
        };

        // Function to attach country change listener
        function attachCountryChangeListener() {
            const countrySelect = document.getElementById('countrySelect');
            const selectedCountryDisplay = document.getElementById('selectedCountry');

            if (countrySelect && selectedCountryDisplay) {
                countrySelect.addEventListener('change', function(e) {
                    const selectedCountry = e.target.value;
                    
                    // Update country display
                    selectedCountryDisplay.textContent = selectedCountry;
                    selectedCountryDisplay.style.opacity = '0.5';
                    selectedCountryDisplay.style.transition = 'opacity 0.3s ease-in-out';
                    
                    // Reinitialize chart with new country data (if needed)
                    setTimeout(() => {
                        selectedCountryDisplay.style.opacity = '1';
                        console.log('Country changed to:', selectedCountry);
                    }, 100);
                });
            }
        }

        // Initialize charts
        function initializeCharts() {
            // Chart 1: Certified Seed Produced
            const certProducedCtx = document.getElementById('certifiedSeedProducedChart');
            if (certProducedCtx) {
                new Chart(certProducedCtx, {
                    type: 'line',
                    data: certifiedSeedProducedData,
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false },
                            tooltip: {
                                backgroundColor: 'rgba(0, 0, 0, 0.8)',
                                padding: 12,
                                titleFont: { size: 14, weight: 'bold' },
                                bodyFont: { size: 13 },
                                borderColor: '#e5e7eb',
                                borderWidth: 1
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 1500,
                                ticks: { font: { size: 12 }, color: '#6b7280' },
                                grid: { color: '#f3f4f6', drawBorder: false }
                            },
                            x: {
                                ticks: { font: { size: 12 }, color: '#6b7280' },
                                grid: { display: false, drawBorder: false }
                            }
                        }
                    }
                });
            }

            // Chart 2: Certified Seed Sold
            const certSoldCtx = document.getElementById('certifiedSeedSoldChart');
            if (certSoldCtx) {
                new Chart(certSoldCtx, {
                    type: 'line',
                    data: certifiedSeedSoldData,
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false },
                            tooltip: {
                                backgroundColor: 'rgba(0, 0, 0, 0.8)',
                                padding: 12,
                                titleFont: { size: 14, weight: 'bold' },
                                bodyFont: { size: 13 },
                                borderColor: '#e5e7eb',
                                borderWidth: 1
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 1400,
                                ticks: { font: { size: 12 }, color: '#6b7280' },
                                grid: { color: '#f3f4f6', drawBorder: false }
                            },
                            x: {
                                ticks: { font: { size: 12 }, color: '#6b7280' },
                                grid: { display: false, drawBorder: false }
                            }
                        }
                    }
                });
            }

            // Chart 3: Capacity Building of Seed Companies
            const capacityCtx = document.getElementById('seedCompanyCapacityChart');
            if (capacityCtx) {
                new Chart(capacityCtx, {
                    type: 'line',
                    data: seedCompanyCapacityData,
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false },
                            tooltip: {
                                backgroundColor: 'rgba(0, 0, 0, 0.8)',
                                padding: 12,
                                titleFont: { size: 14, weight: 'bold' },
                                bodyFont: { size: 13 },
                                borderColor: '#e5e7eb',
                                borderWidth: 1
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 400,
                                ticks: { font: { size: 12 }, color: '#6b7280' },
                                grid: { color: '#f3f4f6', drawBorder: false }
                            },
                            x: {
                                ticks: { font: { size: 12 }, color: '#6b7280' },
                                grid: { display: false, drawBorder: false }
                            }
                        }
                    }
                });
            }

            // Chart 4: Seed Companies Supported
            const companiesCtx = document.getElementById('seedCompaniesChart');
            if (companiesCtx) {
                new Chart(companiesCtx, {
                    type: 'line',
                    data: seedCompaniesData,
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false },
                            tooltip: {
                                backgroundColor: 'rgba(0, 0, 0, 0.8)',
                                padding: 12,
                                titleFont: { size: 14, weight: 'bold' },
                                bodyFont: { size: 13 },
                                borderColor: '#e5e7eb',
                                borderWidth: 1
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 40,
                                ticks: { font: { size: 12 }, color: '#6b7280' },
                                grid: { color: '#f3f4f6', drawBorder: false }
                            },
                            x: {
                                ticks: { font: { size: 12 }, color: '#6b7280' },
                                grid: { display: false, drawBorder: false }
                            }
                        }
                    }
                });
            }

            // Chart 5: Agrodealer Shops Supported
            const shopsCtx = document.getElementById('agrodealerShopsChart');
            if (shopsCtx) {
                new Chart(shopsCtx, {
                    type: 'line',
                    data: agrodealerShopsData,
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false },
                            tooltip: {
                                backgroundColor: 'rgba(0, 0, 0, 0.8)',
                                padding: 12,
                                titleFont: { size: 14, weight: 'bold' },
                                bodyFont: { size: 13 },
                                borderColor: '#e5e7eb',
                                borderWidth: 1
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 300,
                                ticks: { font: { size: 12 }, color: '#6b7280' },
                                grid: { color: '#f3f4f6', drawBorder: false }
                            },
                            x: {
                                ticks: { font: { size: 12 }, color: '#6b7280' },
                                grid: { display: false, drawBorder: false }
                            }
                        }
                    }
                });
            }
        }

        // Load Header Component
        fetch('./components/header.html')
            .then(response => {
                if (!response.ok) throw new Error('Failed to load header');
                return response.text();
            })
            .then(html => {
                document.getElementById('header-container').innerHTML = html;
                console.log('Header loaded successfully');
            })
            .catch(error => console.error('Error loading header:', error));

        // Load Country Selector Component
        fetch('./components/country-selector.html')
            .then(response => {
                if (!response.ok) throw new Error('Failed to load country selector');
                return response.text();
            })
            .then(html => {
                document.getElementById('country-selector-container').innerHTML = html;
                console.log('Country selector loaded successfully');
                // Attach listener after component is loaded
                setTimeout(() => {
                    attachCountryChangeListener();
                }, 100);
            })
            .catch(error => console.error('Error loading country selector:', error));

        // Load Footer Component
        fetch('./components/footer.html')
            .then(response => {
                if (!response.ok) throw new Error('Failed to load footer');
                return response.text();
            })
            .then(html => {
                document.getElementById('footer-container').innerHTML = html;
                console.log('Footer loaded successfully');
            })
            .catch(error => console.error('Error loading footer:', error));

        // Initialize charts when DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
            initializeCharts();
            console.log('All charts initialized');
        });
    </script>
</body>
</html>
